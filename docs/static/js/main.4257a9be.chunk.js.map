{"version":3,"sources":["components/box.js","components/boxContainer.js","components/movementKeys.js","components/switch.js","utils/index.js","utils/keys.js","App.js","reportWebVitals.js","index.js"],"names":["Box","box","onSelect","index","className","isSelected","style","zIndex","id","background","color","top","pos","left","onClick","BoxContainer","boxes","map","MovementKeys","UP","DOWN","LEFT","RIGHT","Switch","isChecked","onChange","htmlFor","type","name","checked","boxSize","getColor","colors","Math","round","random","length","WASD_KEYS","ARROW_KEYS","containerSize","App","useState","setBoxes","control","setControl","moveSelectedBox","useCallback","event","keyCode","code","console","log","prev","selectedBox","find","filter","window","removeEventListener","fenceSize","speed","KEY_CODES","includes","height","width","getNewPosition","useEffect","boxContainer","document","querySelector","clientHeight","clientWidth","addEventListener","last","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4257a9be.chunk.js","sourcesContent":["export function Box({ box, index, onSelect }) {\n  return (\n    <div\n      className={`box ${box.isSelected ? \"box--selected\" : \"\"}`}\n      style={{\n        zIndex: box.id,\n        background: box.color,\n        top: box.pos.top,\n        left: box.pos.left,\n      }}\n      onClick={() => onSelect(box)}\n    ></div>\n  );\n}\n","import { Box } from \"./box\";\n\nexport function BoxContainer({ boxes, onSelect }) {\n  return (\n    <section className=\"box-container\">\n      {boxes.map((box, index) => (\n        <Box key={box.id} box={box} onSelect={onSelect} />\n      ))}\n    </section>\n  );\n}\n","export function MovementKeys({ UP, DOWN, LEFT, RIGHT }) {\n  return (\n    <div className=\"movement-keys\">\n      <span className=\"up\">{UP}</span>\n      <span className=\"left\">{LEFT}</span>\n      <span className=\"down\">{DOWN}</span>\n      <span className=\"right\">{RIGHT}</span>\n    </div>\n  );\n}\n","export function Switch({ isChecked, onChange }) {\n  return (\n    <div className=\"switch\">\n      <label htmlFor=\"boxMovement\">Box controls</label>\n      <input\n        type=\"checkbox\"\n        name=\"boxMovement\"\n        checked={isChecked}\n        onChange={onChange}\n      />\n    </div>\n  );\n}\n","export const boxSize = 100;\n\nexport const getInitialPosition = (fenceSize) => {\n  return {\n    top: fenceSize.height * 0.5 - boxSize * 0.25,\n    left: fenceSize.width * 0.5 - boxSize * 0.25,\n  };\n};\n\nexport const getColor = () => {\n  const colors = [\n    \"Tomato\",\n    \"Orange\",\n    \"SlateBlue\",\n    \"Violet\",\n    \"Chocolate\",\n    \"SeaGreen\",\n    \"MidnightBlue\",\n    \"LavenderBlush\",\n    \"Indigo\",\n    \"FireBrick\",\n    \"DarkBlue\",\n    \"Coral\",\n    \"CadetBlue\",\n    \"Brown\",\n  ];\n  return colors[Math.round(Math.random() * (colors.length - 1))];\n};\n\nexport const getNewPosition = (keyCode, pos, fenceSize, speed = 1) => {\n  const KEY_CODES = {\n    UP: [\"KeyW\", \"ArrowUp\"],\n    DOWN: [\"KeyS\", \"ArrowDown\"],\n    LEFT: [\"KeyA\", \"ArrowLeft\"],\n    RIGHT: [\"KeyD\", \"ArrowRight\"],\n  };\n\n  if (KEY_CODES.UP.includes(keyCode)) {\n    if (pos.top > 0) pos.top = pos.top - speed;\n  } else if (KEY_CODES.DOWN.includes(keyCode)) {\n    if (pos.top < fenceSize.height) pos.top = pos.top + speed;\n  } else if (KEY_CODES.LEFT.includes(keyCode)) {\n    if (pos.left > 0) pos.left = pos.left - speed;\n  } else if (KEY_CODES.RIGHT.includes(keyCode)) {\n    if (pos.left < fenceSize.width) pos.left = pos.left + speed;\n  }\n  return pos;\n};\n","export const WASD_KEYS = {\n  UP: \"W\",\n  DOWN: \"S\",\n  LEFT: \"A\",\n  RIGHT: \"D\",\n};\n\nexport const ARROW_KEYS = {\n  UP: \"\\u2191\",\n  DOWN: \"\\u2193\",\n  LEFT: \"\\u2190\",\n  RIGHT: \"\\u2192\",\n};\n","import { useCallback, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { BoxContainer } from \"./components/boxContainer\";\nimport { MovementKeys } from \"./components/movementKeys\";\nimport { Switch } from \"./components/switch\";\nimport { getColor, getNewPosition, boxSize, getInitialPosition } from \"./utils\";\nimport { ARROW_KEYS, WASD_KEYS } from \"./utils/keys\";\n\nlet containerSize = {};\n\nfunction App() {\n  const [boxes, setBoxes] = useState([]);\n  const [control, setControl] = useState(false);\n  const addBox = () => {\n    setBoxes((prev) => {\n      if (!prev.length) {\n        setControl(true);\n        window.addEventListener(\"keydown\", moveSelectedBox, true);\n      }\n      const last = prev[prev.length - 1];\n      return [\n        ...prev.map((prev) => {\n          delete prev.isSelected;\n          return prev;\n        }),\n        {\n          id: last ? last.id + 1 : 0,\n          color: getColor(),\n          pos: getInitialPosition(containerSize),\n          isSelected: true,\n        },\n      ];\n    });\n  };\n  const onSelect = (selectedBox) => {\n    setBoxes((prev) => {\n      prev = prev.map((box) => {\n        delete box.isSelected;\n        return box;\n      });\n      let curentBox = prev.find((box) => box.id === selectedBox.id);\n      curentBox.isSelected = true;\n      return prev;\n    });\n  };\n  const moveSelectedBox = useCallback((event) => {\n    let keyCode = event.code;\n    console.log(\"Key pressed\", keyCode);\n    setBoxes((prev) => {\n      const selectedBox = prev.find((box) => box.isSelected);\n\n      if (selectedBox) {\n        if (keyCode === \"Delete\") {\n          let boxes = prev.filter((box) => box.id !== selectedBox.id);\n          if (!boxes.length) {\n            setControl(false);\n            window.removeEventListener(\"keydown\", moveSelectedBox, true);\n          }\n          return boxes;\n        }\n        selectedBox.pos = getNewPosition(\n          keyCode,\n          selectedBox.pos,\n          containerSize\n        );\n      }\n      return [...prev];\n    });\n  }, []);\n\n  useEffect(() => {\n    let boxContainer = document.querySelector(\".box-container\");\n    containerSize.height = boxContainer.clientHeight - boxSize;\n    containerSize.width = boxContainer.clientWidth - boxSize;\n  }, []);\n\n  const toggleMovement = () => {\n    setControl((prev) => {\n      if (prev) window.removeEventListener(\"keydown\", moveSelectedBox, true);\n      else window.addEventListener(\"keydown\", moveSelectedBox, true);\n      return !prev;\n    });\n  };\n  return (\n    <div className=\"container\">\n      <section className=\"instructions\">\n        <section className=\"movement\">\n          <h1 className=\"section-title\">\n            Click on a box to select it, you can use the following keys to move\n            your boxes\n          </h1>\n          <section className=\"key-info\">\n            <MovementKeys {...WASD_KEYS} />\n            <h4> OR </h4>\n            <MovementKeys {...ARROW_KEYS} />\n          </section>\n          <h1 className=\"text-center\">\n            The <i>Delete</i> key deletes the selected box\n          </h1>\n        </section>\n        <section className=\"box-controls\">\n          <h1 className=\"section-title\"> You can also add more boxes</h1>\n          <button className=\"btn\" onClick={addBox}>\n            Add box\n          </button>\n          <Switch isChecked={control} onChange={toggleMovement} />\n        </section>\n      </section>\n      <BoxContainer boxes={boxes} onSelect={onSelect} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}