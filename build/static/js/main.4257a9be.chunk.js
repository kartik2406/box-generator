(this["webpackJsonpbox-generator"]=this["webpackJsonpbox-generator"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),s=n.n(o),i=n(8),r=n.n(i),l=(n(14),n(7)),a=n(5),d=n(6);n(15);function u(e){var t=e.box,n=(e.index,e.onSelect);return Object(c.jsx)("div",{className:"box ".concat(t.isSelected?"box--selected":""),style:{zIndex:t.id,background:t.color,top:t.pos.top,left:t.pos.left},onClick:function(){return n(t)}})}function j(e){var t=e.boxes,n=e.onSelect;return Object(c.jsx)("section",{className:"box-container",children:t.map((function(e,t){return Object(c.jsx)(u,{box:e,onSelect:n},e.id)}))})}function b(e){var t=e.UP,n=e.DOWN,o=e.LEFT,s=e.RIGHT;return Object(c.jsxs)("div",{className:"movement-keys",children:[Object(c.jsx)("span",{className:"up",children:t}),Object(c.jsx)("span",{className:"left",children:o}),Object(c.jsx)("span",{className:"down",children:n}),Object(c.jsx)("span",{className:"right",children:s})]})}function h(e){var t=e.isChecked,n=e.onChange;return Object(c.jsxs)("div",{className:"switch",children:[Object(c.jsx)("label",{htmlFor:"boxMovement",children:"Box controls"}),Object(c.jsx)("input",{type:"checkbox",name:"boxMovement",checked:t,onChange:n})]})}var x=100,f=function(){var e=["Tomato","Orange","SlateBlue","Violet","Chocolate","SeaGreen","MidnightBlue","LavenderBlush","Indigo","FireBrick","DarkBlue","Coral","CadetBlue","Brown"];return e[Math.round(Math.random()*(e.length-1))]},O={UP:"W",DOWN:"S",LEFT:"A",RIGHT:"D"},m={UP:"\u2191",DOWN:"\u2193",LEFT:"\u2190",RIGHT:"\u2192"},v={};var p=function(){var e=Object(o.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],i=Object(o.useState)(!1),r=Object(d.a)(i,2),u=r[0],p=r[1],g=Object(o.useCallback)((function(e){var t=e.code;console.log("Key pressed",t),s((function(e){var n=e.find((function(e){return e.isSelected}));if(n){if("Delete"===t){var c=e.filter((function(e){return e.id!==n.id}));return c.length||(p(!1),window.removeEventListener("keydown",g,!0)),c}n.pos=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o={UP:["KeyW","ArrowUp"],DOWN:["KeyS","ArrowDown"],LEFT:["KeyA","ArrowLeft"],RIGHT:["KeyD","ArrowRight"]};return o.UP.includes(e)?t.top>0&&(t.top=t.top-c):o.DOWN.includes(e)?t.top<n.height&&(t.top=t.top+c):o.LEFT.includes(e)?t.left>0&&(t.left=t.left-c):o.RIGHT.includes(e)&&t.left<n.width&&(t.left=t.left+c),t}(t,n.pos,v)}return Object(a.a)(e)}))}),[]);return Object(o.useEffect)((function(){var e=document.querySelector(".box-container");v.height=e.clientHeight-x,v.width=e.clientWidth-x}),[]),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("section",{className:"instructions",children:[Object(c.jsxs)("section",{className:"movement",children:[Object(c.jsx)("h1",{className:"section-title",children:"Click on a box to select it, you can use the following keys to move your boxes"}),Object(c.jsxs)("section",{className:"key-info",children:[Object(c.jsx)(b,Object(l.a)({},O)),Object(c.jsx)("h4",{children:" OR "}),Object(c.jsx)(b,Object(l.a)({},m))]}),Object(c.jsxs)("h1",{className:"text-center",children:["The ",Object(c.jsx)("i",{children:"Delete"})," key deletes the selected box"]})]}),Object(c.jsxs)("section",{className:"box-controls",children:[Object(c.jsx)("h1",{className:"section-title",children:" You can also add more boxes"}),Object(c.jsx)("button",{className:"btn",onClick:function(){s((function(e){e.length||(p(!0),window.addEventListener("keydown",g,!0));var t,n=e[e.length-1];return[].concat(Object(a.a)(e.map((function(e){return delete e.isSelected,e}))),[{id:n?n.id+1:0,color:f(),pos:(t=v,{top:.5*t.height-25,left:.5*t.width-25}),isSelected:!0}])}))},children:"Add box"}),Object(c.jsx)(h,{isChecked:u,onChange:function(){p((function(e){return e?window.removeEventListener("keydown",g,!0):window.addEventListener("keydown",g,!0),!e}))}})]})]}),Object(c.jsx)(j,{boxes:n,onSelect:function(e){s((function(t){return(t=t.map((function(e){return delete e.isSelected,e}))).find((function(t){return t.id===e.id})).isSelected=!0,t}))}})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.4257a9be.chunk.js.map